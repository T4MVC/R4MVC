image: Visual Studio 2017

environment:
  productVersion: 1.0.0-alpha1
  assemblyVersion: 1.0.0
 
version: $(productVersion).{build}

init:
- ps: $env:versionSuffix = "ci." + $env:APPVEYOR_BUILD_NUMBER
- ps: dotnet --info

build_script:
- ps: dotnet restore -v minimal
- ps: dotnet build -c release --version-suffix "$env:versionSuffix" -p:VersionPrefix=$env:productVersion -p:FileVersion="$env:assemblyVersion.$env:APPVEYOR_BUILD_NUMBER"

artifacts:
- path: '**\*.nupkg'